window.addEventListener("scroll",()=>{const e=document.querySelectorAll(".technologies__column"),t=document.querySelector(".technologies__title");if(window.pageYOffset>=150&&(t.style.opacity="1",t.style.top="0"),window.pageYOffset>=180)for(let t=0;t<e.length;t++)setTimeout(()=>{e[t].style.opacity="1",e[t].style.top="0"},300*t);const s=document.querySelector(".works__inner");window.pageYOffset>=730&&(s.style.opacity="1",s.style.top="0");const o=document.querySelector(".testimonials__title"),i=document.querySelector(".testimonials__content");window.pageYOffset>=1466&&(o.style.opacity="1",o.style.top="0",i.style.opacity="1",i.style.top="0");const l=document.querySelector(".order__title");window.pageYOffset>=1741&&(l.style.opacity="1",l.style.top="0");const n=document.querySelectorAll("input"),r=document.querySelector(".order__description"),d=document.querySelector(".order__button");window.pageYOffset>=1950&&(n.forEach((e,t)=>{t>0&&(e.style.top="0",e.style.opacity="1")}),r.style.top="0",r.style.right="0",r.style.opacity="1",d.style.opacity="1")}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".header__icon").forEach(e=>{e.style.opacity="1"})});export default class Slider{constructor(e,t){this.slider=document.querySelector(e),this.options=t,this.render(),this.setup()}render(){const{arrows:e,dots:t}=this.options;this.slider.classList.add("slider"),this.visible=[],this.slideItems=document.querySelectorAll(".works__column"),!0===e&&this.arrows(),!0===t&&this.dots()}setup(){this.sliderSwipe(),this.sliderPage(),this.dotActive()}arrows(){const e=document.createElement("div"),t=document.createElement("div"),s=document.createElement("div"),o=document.createElement("I"),i=document.createElement("I");this.slider.appendChild(e),e.classList.add("slider__arrows"),e.appendChild(t),t.classList.add("slider__left"),t.setAttribute("tabindex","0"),e.appendChild(s),s.classList.add("slider__right"),s.setAttribute("tabindex","0"),t.appendChild(o),o.classList.add("fas"),o.classList.add("fa-angle-left"),o.style.pointerEvents="none",s.appendChild(i),i.classList.add("fas"),i.classList.add("fa-angle-right"),i.style.pointerEvents="none"}dots(){this.dotContainer=document.createElement("div"),this.dotContainer.classList.add("slider__dots"),this.slideItems.forEach(e=>{e.classList.contains("hide")||this.visible.push(e)}),document.querySelector(".slider__dots")&&document.querySelector(".slider__dots").parentNode.removeChild(document.querySelector(".slider__dots")),this.slider.appendChild(this.dotContainer);const e=Math.ceil(this.visible.length/this.options.slidesToShow);for(let t=0;t<e;t++){const e=document.createElement("div");e.classList.add("slider__dot"),e.setAttribute("tabindex","0"),this.dotContainer.appendChild(e)}}dotActive(){document.querySelectorAll(".slider__dot").forEach((e,t)=>{e.addEventListener("click",()=>{this.prev=t*this.options.slidesToShow,this.next=this.prev+this.options.slidesToShow-1,Array.from(e.parentNode.children).forEach(e=>{e.classList.remove("active")}),e.classList.add("active")})}),this.sliderPage()}sliderPage(){this.visible.forEach((e,t)=>{e.classList.add("hide"),t>=this.prev&&t<=this.next&&e.classList.remove("hide")});const e=document.querySelectorAll(".slider__dot");for(let t=0;t<this.visible.length;t+=this.options.slidesToShow){const s=t/this.options.slidesToShow;if(this.prev===t){for(let t=0;t<e.length;t++)e[t].classList.remove("active");void 0!==e[s]&&e[s].classList.add("active")}}this.visible.forEach((e,t)=>{t%2!=0&&(e.style.marginRight="0")})}sliderSwipe(){this.prev=0,this.next=this.options.slidesToShow-1,this.slider.onmousedown=e=>{const t=e.clientX;this.slider.onmouseup=s=>{const o=s.clientX,i=t-o;0===i&&this.slideWithAngle(e),!0===this.options.sliderTouch&&(i>=100?this.swipeLeft():i<=-100&&this.swipeRight())}},this.slider.ontouchstart=e=>{const t=e.changedTouches[0].clientX;this.slider.ontouchend=e=>{const s=e.changedTouches[0].clientX,o=t-s;!0===this.options.sliderTouch&&(o>=100?this.swipeLeft():o<=-100&&this.swipeRight())}};document.querySelectorAll(".slider__dots").forEach(e=>{e.addEventListener("click",()=>{this.dotActive()})})}swipeLeft(){this.prev-=this.options.slidesToShow,this.next-=this.options.slidesToShow;let e=this.visible.length;if(e%this.options.slidesToShow!=0)do{e++}while(e%this.options.slidesToShow!=0);this.prev<0?(this.prev=e-this.options.slidesToShow,this.next=e-1):this.visible.length<=this.options.slidesToShow&&(this.prev=0,this.next=this.options.slidesToShow-1),this.sliderPage()}swipeRight(){this.prev+=this.options.slidesToShow,this.next+=this.options.slidesToShow;let e=this.visible.length;if(e%this.options.slidesToShow!=0)do{e++}while(e%this.options.slidesToShow!=0);(this.next>=e||this.visible.length<=this.options.slidesToShow)&&(this.prev=0,this.next=this.options.slidesToShow-1),this.sliderPage()}slideWithAngle(e){e.target.classList.contains("slider__left")?this.swipeLeft():e.target.classList.contains("slider__right")&&this.swipeRight()}}function anchor(){document.querySelectorAll('a[href*="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.getAttribute("href").substr(1);document.getElementById(s).scrollIntoView({behavior:"smooth",block:"start"})})})}function scrollToTop(){const e=document.querySelector(".up");document.addEventListener("scroll",()=>{scrollY>=500?(e.style.opacity="1",e.style.pointerEvents="all"):(e.style.opacity="0",e.style.pointerEvents="none")})}function portpholio(){anchor(),scrollToTop()}portpholio(),console.log(1),document.addEventListener("DOMContentLoaded",()=>{const e=[];const t=document.querySelector(".order__form"),s=document.querySelector(".popup");t.addEventListener("submit",(function(o){o.preventDefault();const i=new FormData(t);if(function(){const t=document.querySelector('input[name="name"]'),s=document.querySelectorAll(".order__error"),o=document.querySelector('input[name="email"]');if(e.length=0,t.classList.remove("error"),o.classList.remove("error"),s.forEach(e=>{e.textContent="",e.style.paddingLeft="0",e.style.marginTop="0",e.style.opacity="0",e.style.transition="all 0.2s linear"}),""===t.value)return e.push({name:"Введите имя"}),s[0].style.paddingLeft="10px",s[0].style.marginTop="10px",s[0].style.opacity="1",t.classList.add("error"),s[0].textContent=e[0].name,!1;if(""===o.value)return e.push({email:"Введите email"}),s[1].textContent=e[0].email,s[1].style.paddingLeft="10px",s[1].style.marginTop="10px",s[1].style.opacity="1",o.classList.add("error"),!1;const i=o.value.split("@");2===i.length&&2!==i[1].split(".").length&&(e.push({email:"Введите правильный email"}),s[1].textContent=e[0].email,s[1].style.paddingLeft="10px",s[1].style.marginTop="10px",s[1].style.opacity="1",o.classList.add("error"))}(),0===e.length){s.style.opacity="1",s.style.pointerEvents="all",document.body.style.overflow="hidden";const e=document.querySelector(".order__preloader");e.style.opacity="1";fetch("order.php",{method:"POST",body:i}).then(s=>{const o=document.querySelector(".popup__window"),i=document.querySelector(".popup__result");e.style.opacity="0",o.style.opacity="1",o.style.top="60px",!0===s.ok?(i.innerHTML="Спасибо за заказ! Ждите моего ответа",t.reset()):i.innerHTML="Произошла ошибка! Попробуйте заного"})}}));document.querySelector(".popup__close").addEventListener("click",()=>{s.style.opacity="0",s.style.pointerEvents="none",document.body.style.overflow="visible"})});